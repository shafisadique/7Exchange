
<div class="container" style="margin: auto;" >
    <div class="card card-primary" >
      <div class="d-flex justify-content-center align-items-center"  style="height: 100vh;" *ngIf="isBodyLoading == true">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    <form class="forms-sample" *ngIf="subAdminAddForm!=undefined || this.isBodyLoading == false" [formGroup]="subAdminAddForm" (ngSubmit)="onSubmit()">
            <div class="card-body" >
                <div class="row ">
                    <div class="col-md-6 grid-margin" >
                        <!-- <div class="card"> -->
                            <div class="card-header bg-primary">
                                    <h5>Basic Details</h5>
                            </div>
  
                            <div class="card-body card ">
                                <div class="mb-3">
                                    <label class="form-label" style="font-weight: bold;">Code</label>
                                    <input type="text" disabled class="form-control input-air-primary" autocomplete="off" 
                                           placeholder="Auto Generated">
                                </div>
  
                                <div class="mb-3">
                                    <label style="font-weight: bold;" class="form-label">Name *</label>
                                    <input type="text" class="form-control input-air-primary"
                                           [ngClass]="subAdminAddForm.get('name')?.touched && subAdminAddForm.get('name')?.hasError('required') ? 'is-invalid' : ''"
                                           formControlName="name" autocomplete="off"
                                           placeholder="Name" required />
  
                                    <div *ngIf="subAdminAddForm.get('name')?.hasError('required') && (subAdminAddForm.get('name')?.touched || submitted)"
                                         style="color:red">
                                        Name is required.
                                    </div>
                                    <div
                                            *ngIf="subAdminAddForm.get('name')?.hasError('minlength') && subAdminAddForm.get('name')?.touched"
                                            style="color:red">
                                        Name must be at least 3 characters.
                                    </div>
                                    <div
                                            *ngIf="subAdminAddForm.get('name')?.hasError('maxlength') && subAdminAddForm.get('name')?.touched"
                                            style="color:red">
                                        Name cannot exceed 30 characters.
                                    </div>
                                    <div *ngIf="subAdminAddForm.get('name')?.hasError('pattern') && subAdminAddForm.get('name')?.touched"
                                         style="color:red">
                                        Invalid pattern for Name.
                                    </div>
                                    <div *ngIf="serverErrors?.name && serverErrors != null" class="server-error" style="color: red;">
                                        {{ serverErrors?.name }}
                                      </div>
                                </div>
  
                                <div class="mb-3">
                                    <label style="font-weight: bold;" class="form-label">Reference*</label>
                                    <input type="text" class="form-control input-air-primary"
                                    [ngClass]="subAdminAddForm.get('reference')?.touched && subAdminAddForm.get('reference')?.hasError('required') ? 'is-invalid' : ''"
                                    formControlName="reference" autocomplete="off" placeholder="Reference" required />
  
                             <div *ngIf="subAdminAddForm.get('reference')?.hasError('required') && (subAdminAddForm.get('reference')?.touched || submitted)"
                                  style="color: red">
                               Reference is required.
                             </div>
  
                             <div
                             *ngIf="subAdminAddForm.get('reference')?.hasError('minlength') && subAdminAddForm.get('reference')?.touched"
                             style="color:red">
                             Reference must be at least 3 characters.
                     </div>
                                    <div
                                            *ngIf="subAdminAddForm.get('reference')?.hasError('pattern') && subAdminAddForm.get('reference')?.touched"
                                            style="color:red">
                                        Invalid pattern for Reference.
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label style="font-weight: bold;" class="form-label">Password *</label>
                                    <div class="input-group mb-3">
                                      <input type="text" class="form-control input-air-primary" readonly
                                      [ngClass]="subAdminAddForm.get('reference')?.touched && subAdminAddForm.get('password')?.hasError('required') ? 'is-invalid' : ''"
                                      formControlName="password" autocomplete="off" placeholder="Password" required />
                                        <button class="input-group-text btn-primary input-air-primary" id="basic-addon2"
                                                type="button" style="background-color:#17a2b8 ;color: whitesmoke;" (click)="generatePassword()">Generate Password
                                        </button>
                                    </div>
                                    
                                    <div *ngIf="subAdminAddForm.get('password')?.hasError('required') && (subAdminAddForm.get('password')?.touched || submitted)"
                                    style="color: red">
                                    Password is required.
                               </div>
                                    
                                    <div
                                    *ngIf="subAdminAddForm.get('password')?.hasError('minlength') && subAdminAddForm.get('password')?.touched"
                                    style="color:red">
                                    Password must be at least 6 characters..
                            </div>
  
                                    <div
                                    *ngIf="subAdminAddForm.get('password')?.hasError('maxlength') && subAdminAddForm.get('password')?.touched"
                                    style="color:red">
                                    Password cannot exceed 60 characters.
                            </div>
                            <div *ngIf="serverErrors?.password && serverErrors != null" class="server-error" style="color: red;">
                                {{ serverErrors?.password }}
                              </div>
                                </div>
                                <div class="mb-3">
                                    <label style="font-weight: bold;" class="form-label">Contact No</label>
                                    <input type="text" class="form-control input-air-primary"
                                    [ngClass]="subAdminAddForm.get('contactNo')?.touched && subAdminAddForm.get('contactNo')?.hasError('required') ? 'is-invalid' : ''"
                                    formControlName="contactNo" autocomplete="off" placeholder="contactNo" required />
  
  
                                    <div *ngIf="subAdminAddForm.get('contactNo')?.hasError('required') && (subAdminAddForm.get('password')?.touched || submitted)"
                                    style="color: red">
                                    Contact number is required.
                               </div>
                               <div
                               *ngIf="subAdminAddForm.get('contactNo')?.hasError('maxlength') && subAdminAddForm.get('contactNo')?.touched"
                               style="color:red">
                               Contact number cannot exceed 11 digits.
                       </div>
  
                                    <div
                                            *ngIf="subAdminAddForm.get('contactNo')?.hasError('pattern') && subAdminAddForm.get('contactNo')?.touched"
                                            style="color: red;">
                                        Only numbers are allowed for the contact number.
                                    </div>
                                </div>
  
  
                            </div>
                        <!-- </div> -->
                    </div>
  
                    <div class="col-md-6 grid-margin stretch-card">
                            <div class="card-header bg-danger">
                                <h5>Share and Commission</h5>
                            </div>
                            <div class="card-body card">
                               
  
                                <!-- <div class="row">
                                    <div class="col-sm-6">
                                        <div class="mb-3">
                                            <label style="font-weight: bold;" class="form-label">Master Agent Share</label>
                                            <input type="number" class="form-control"
                                            [ngClass]="subAdminAddForm.get('currentLimit')?.touched && subAdminAddForm.get('currentLimit')?.hasError('required') ? 'is-invalid' : ''"
                                            formControlName="currentLimit" autocomplete="off" placeholder="current Limit" required />
  
                                            <div
                                                    *ngIf="subAdminAddForm.get('currentLimit')?.hasError('min') && subAdminAddForm.get('currentLimit')?.touched">
                                                Current limit must be greater than or equal to 0.
                                            </div>
                                            <div
                                                    *ngIf="subAdminAddForm.get('currentLimit')?.hasError('max') && subAdminAddForm.get('currentLimit')?.touched" style="color:red">
                                                Current limit must be less than or equal to {{subAdmin?.currentLimit}}.
                                            </div>
                                            <div
                                                    *ngIf="subAdminAddForm.get('currentLimit')?.hasError('required') && (subAdminAddForm.get('currentLimit')?.touched|| submitted)"
                                                    style="color:red">
                                                Current limit must be greater than or equal to 0.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label">My Limit</label>
                                        <input type="number" class="form-control" disabled autocomplete="off" [value]="subAdmin?.currentLimit" >
  
                                    </div>
                                </div> -->
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="mb-3">
                                            <label style="font-weight: bold;" class="form-label">Sub Admin Share</label>
                                            
                                                   <input type="text" class="form-control input-air-primary" 
                                                   [ngClass]="subAdminAddForm.get('share')?.touched  && subAdminAddForm.get('share')?.hasError('required') ? 'is-invalid' : ''"
                                                   formControlName="share" autocomplete="off" placeholder="Share " required />
  
                                            <div
                                                    *ngIf="subAdminAddForm.get('share')?.hasError('required') && (subAdminAddForm.get('share')?.touched||submitted)"
                                                    style="color:red">
                                                Share must be greater than or equal to 0.
                                            </div>
                                            <div
                                                    *ngIf="subAdminAddForm.get('subAdminShare')?.hasError('min') && subAdminAddForm.get('subAdminShare')?.touched"
                                                    style="color:red">
                                                Share must be greater than or equal to 0.
                                            </div>
                                            <div
                                                    *ngIf="subAdminAddForm.get('subAdminShare')?.hasError('max') && subAdminAddForm.get('subAdminShare')?.touched"
                                                    style="color:red">
                                                Share must be less than or equal to {{subAdmin?.adminShare}}.
                                            </div>
                                            
                                            <div *ngIf="serverErrors?.share && serverErrors != null" class="server-error" style="color: red;">
                                              {{ serverErrors?.share }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label">My Share</label>
                                        <input type="number" class="form-control input-air-primary" disabled autocomplete="off"
                                               [value]="subAdmin?.adminShare">
                                    </div>
                                </div>
                                <!-- <div class="row">
                                    <div class="col-sm-6">
                                        <div class="mb-3">
                                            <label style="font-weight: bold;" class="form-label">Sub Admin Casino Share</label>
  
                                                   <input type="text" class="form-control"
                                                   [ngClass]="subAdminAddForm.get('cshare')?.touched && subAdminAddForm.get('cshare')?.hasError('required') ? 'is-invalid' : ''"
                                                   formControlName="cshare" autocomplete="off" placeholder="Casino Share " required />
                                            <div
                                                    *ngIf="subAdminAddForm.get('cshare')?.hasError('required') && (subAdminAddForm.get('cshare')?.touched ||submitted)"
                                                    style="color:red">
                                                Casino share must be greater than or equal to 0.
                                            </div>
                                            <div
                                                    *ngIf="subAdminAddForm.get('cShare')?.hasError('max') && subAdminAddForm.get('cShare')?.touched"
                                                    style="color:red">
                                                Casino share must be less than or equal to {{subAdmin?.cShare}}.
                                            </div>
  
                                            <div *ngIf="serverErrors?.cShare && serverErrors != null" class="server-error" style="color: red;">
                                              {{ serverErrors?.cShare }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label"> My Casino Share</label>
                                        <input type="number" class="form-control" disabled autocomplete="off"
                                               [value]="subAdmin?.cshare">
  
                                    </div>
                                </div> -->
                                <!-- <div class="row">
                                    <div class="col-sm-6">
                                        <div class="mb-3">
                                            <label style="font-weight: bold;" class="form-label">Sub Admin Int. Casino
                                                Share</label>
                                                   <input type="number" class="form-control"
                                                   [ngClass]="subAdminAddForm.get('icShare')?.touched && subAdminAddForm.get('icShare')?.hasError('required') ? 'is-invalid' : ''"
                                                   formControlName="icShare" autocomplete="off" placeholder="International Casino Share " required />
  
                                            <div
                                                    *ngIf="subAdminAddForm.get('icShare')?.hasError('required') && (subAdminAddForm.get('icShare')?.touched || submitted) "
                                                    style="color:red">
                                                Casino share must be greater than or equal to 0.
                                            </div>
                                            <div
                                                    *ngIf="subAdminAddForm.get('icShare')?.hasError('max') && subAdminAddForm.get('icShare')?.touched"
                                                    style="color:red">
                                                Casino share must be less than or equal to {{subAdmin?.icShare}}.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label"> My International Casino
                                            Share</label>
                                        <input type="number" class="form-control" disabled autocomplete="off"
                                               [value]="subAdmin?.icShare">
  
                                    </div>
                                </div> -->
                                <!-- <div class="mb-3">
                                    <label style="font-weight: bold;" class="form-label">Commission Type</label>
                                    <select class="form-select" aria-label="Default select example"  formControlName="icCheck" style="width: 100%;">
                                      <option [value]="true">Yes</option>
                                      <option [value]="false">No</option>
                                    </select>
                                  </div> -->
                                <div class="row mb-3">
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label">Casino share</label>
                                        
                                               <input type="number" class="form-control input-air-primary"
                                                   [ngClass]="subAdminAddForm.get('casinoShare')?.touched && subAdminAddForm.get('casinoShare')?.hasError('required') ? 'is-invalid' : ''"
                                                   formControlName="casinoShare" autocomplete="off" placeholder=" Casino Share " required />
                                        <div
                                                *ngIf="subAdminAddForm.get('casinoShare')?.hasError('required') && (subAdminAddForm.get('casinoShare')?.touched||submitted)"
                                                style="color: red;">
                                            Casino share must be greater than or equal to 0.
                                        </div>
                                        <div
                                                *ngIf="subAdminAddForm.get('casinoShare')?.hasError('max') && subAdminAddForm.get('casinoShare')?.touched"
                                                style="color: red;">
                                            Casino share must be less than or equal to {{subAdmin?.casinoShare}}.
                                        </div>
                                        <div *ngIf="serverErrors?.casinoShare && serverErrors != null" class="server-error" style="color: red;">
                                          {{ serverErrors?.casinoShare }}
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label">Casino Share</label>
                                        <input type="text" class="form-control input-air-primary" disabled autocomplete="off"
                                               [value]="subAdmin?.casinoShare">
  
                                    </div>
                                </div>

                                <div class="row mb-3">
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label">Match Commission</label>
                                               <input type="number" class="form-control input-air-primary"
                                               [ngClass]="subAdminAddForm.get('mc')?.touched && subAdminAddForm.get('mc')?.hasError('required') ? 'is-invalid' : ''"
                                               formControlName="mc" autocomplete="off" placeholder="Match Commission" required />
  
                                        <div *ngIf="subAdminAddForm.get('mc')?.hasError('required') && (subAdminAddForm.get('mc')?.touched|| submitted)"
                                             style="color: red;">
                                            Match Commission must be greater than or equal to 0.
                                        </div>
                                        <div *ngIf="subAdminAddForm.get('mc')?.hasError('max') && subAdminAddForm.get('mc')?.touched"
                                             style="color: red;">
                                            Match Commission must be less than or equal to {{subAdmin?.mc}}.
                                        </div>
                                        <div *ngIf="serverErrors?.mc && serverErrors != null" class="server-error" style="color: red;">
                                            {{ serverErrors?.mc }}
                                          </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label">My Match Commission</label>
                                        <input type="text" class="form-control input-air-primary" disabled autocomplete="off"
                                               [value]="subAdmin?.mc">
  
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label">Session Commission</label>
                                      
                                               <input type="number" class="form-control input-air-primary"
                                               [ngClass]="subAdminAddForm.get('sc')?.touched && subAdminAddForm.get('sc')?.hasError('required') ? 'is-invalid' : ''"
                                               formControlName="sc" autocomplete="off" placeholder="Session Commission" required />
  
                                        <div *ngIf="subAdminAddForm.get('sc')?.hasError('required') && (subAdminAddForm.get('sc')?.touched ||submitted)"
                                             style="color: red;">
                                            Session Commission must be greater than or equal to 0.
                                        </div>
                                        <div *ngIf="subAdminAddForm.get('sc')?.hasError('max') && subAdminAddForm.get('sc')?.touched"
                                             style="color: red;">
                                            Session Commission must be less than or equal to {{subAdmin?.sc}}.
                                        </div>
                                        <div *ngIf="serverErrors?.sc && serverErrors != null" class="server-error" style="color: red;">
                                            {{ serverErrors?.sc }}
                                          </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label">My Session
                                            Commission</label>
                                        <input type="text" class="form-control input-air-primary" disabled readonly [value]="subAdmin?.sc">
  
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label">Casino Commission</label>
                                               <input type="number" class="form-control input-air-primary"
                                               [ngClass]="subAdminAddForm.get('cc')?.touched && subAdminAddForm.get('cc')?.hasError('required') ? 'is-invalid' : ''"
                                               formControlName="cc" autocomplete="off" placeholder="Casino Commission" required />
  
                                        <div *ngIf="subAdminAddForm.get('cc')?.hasError('required') && (subAdminAddForm.get('cc')?.touched ||submitted)"
                                             style="color: red;">
                                            Casino Commission must be greater than or equal to 0.
                                        </div>
                                        <div *ngIf="subAdminAddForm.get('cc')?.hasError('max') && subAdminAddForm.get('cc')?.touched" style="color: red;">
                                            Casino Commission must be less than or equal to {{subAdmin?.cc}}.
                                        </div>
                                        <div *ngIf="serverErrors?.cc && serverErrors != null" class="server-error" style="color: red;">
                                            {{ serverErrors?.cc }}
                                          </div>
                                    </div>
  
                                    <div class="col-sm-6">
                                        <label style="font-weight: bold;" class="form-label">My Casino
                                            Commission</label>
                                        <input type="text" class="form-control input-air-primary" disabled autocomplete="off" readonly
                                               [value]="subAdmin?.cc">
  
                                    </div>
  
                                </div>
  
                            </div>
  
                        </div>
                </div>
  
            </div>
            <div class="card-footer d-flex justify-content-between">
                <a routerLink="/sub-admin/sub-admin-details" class="btn btn-primary me-2">Cancel</a>
                <button type="submit" *ngIf="isLoading==false" class="btn btn-primary me-2">Create New Sub Admin</button>
                      <div class="spinner-border" role="status" *ngIf="isLoading==true">
                    <span class="visually-hidden">Loading...</span>
                  </div>
            </div>
          </form>
        </div>
  
  
  </div>
  
  