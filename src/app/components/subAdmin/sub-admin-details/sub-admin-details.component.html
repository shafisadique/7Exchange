<div class="row">
  <div class="col-md-12 stretch-card">
    <div class="card">
      <div class="card-header">
        <button class="btn btn-pill btn-info btn-air-info active" type="submit" placement="top" ngbTooltip="btn btn-info sidebar-header btn-air-info btn-pill" [routerLink]="['/sub-admin/sub-admin-create']" routerLinkActive="active" *ngIf="currentUserRole === UserRole">
          ADD <i class="fa fa-plus-circle" aria-hidden="true"></i>
        </button>
        <button class="btn btn-pill btn-air-success btn-success" ngbTooltip="btn btn-pill btn-air-success btn-success" style="margin: 5px;" (click)="setAllActive()">All Active</button>
        <button type="button" class="btn btn-pill btn-air-danger btn-danger" ngbTooltip="btn btn-pill btn-air-danger btn-danger" style="margin: 5px;" (click)="setAllDeActive()">All DeActive</button>
        <button class="btn btn-pill btn-air-success btn-primary" ngbTooltip="btn btn-pill btn-air-success btn-success" style="margin: 5px;" (click)="getSubAdminLimit()">Limit Update</button>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <div class="left">
            <div class="item-per-page">
              <select class="form-select form-control-sm" [(ngModel)]="pageSize" (change)="onPageSizeChange()" style="margin-bottom: 5px;">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="15">15</option>
                <option value="20">20</option>
              </select>
            </div>
            <div class="search">
              <h6 style="margin-top: 15px;">Search: </h6>
              <input type="search" class="form-control form-control-sm">
            </div>
          </div>
          <table class="table table-bordered table-striped table-hover table-sm">
            <thead>
              <tr>
                <th style="text-align: center;">#</th>
                <th (click)="sortData('code')">Code <i [class]="getSortIcon('code')"></i></th>
                <th (click)="sortData('name')">Name <i [class]="getSortIcon('name')"></i></th>
                <th (click)="sortData('reference')">Reference <i [class]="getSortIcon('reference')"></i></th>
                <th (click)="sortData('password')">Password <i [class]="getSortIcon('password')"></i></th>
                <th (click)="sortData('contactNo')">Contact No <i [class]="getSortIcon('contactNo')"></i></th>
                <th (click)="sortData('share')">Share <i [class]="getSortIcon('share')"></i></th>
                <th (click)="sortData('mc')">MC <i [class]="getSortIcon('mc')"></i></th>
                <th (click)="sortData('sc')">SC <i [class]="getSortIcon('sc')"></i></th>
                <th (click)="sortData('cc')">CC <i [class]="getSortIcon('cc')"></i></th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let row of data; index as i">
                <td style="text-align: center;">
                  <div class="dropdown">
                    <div ngbDropdown>
                      <button class="btn btn-link btn-sm" id="dropdownButtonLg" ngbDropdownToggle >{{ (currentPage - 1) * pageSize + i + 1 }}</button>
                      <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                        <button ngbDropdownItem (click)="getSingleId(row.id)">Edit</button>
                        <button ngbDropdownItem (click)="getMasterAdmin(row.id)">Master Limit</button>
                      </div>
                    </div>
                  </div>
                </td>
                <td>{{row.code}}</td>
                <td>{{row.name}}</td>
                <td>{{row.reference}}</td>
                <td>{{row.password}}</td>
                <td>{{row.contactNo}}</td>
                <td>{{row.share}}</td>
                <td>{{row.mc}}</td>
                <td>{{row.sc}}</td>
                <td>{{row.cc}}</td>
                <td>
                  <span class="badge" [ngClass]="row.status ? 'bg-success' : 'bg-danger'">{{row.status ? 'Active' : 'Inactive'}}</span>
                </td>
              </tr>
              <tr *ngIf="data.length == 0">
                <td colspan="11" style="text-align: center; font-family: 'Roboto', sans-serif;">No Data Available</td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <th colspan="11"></th>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>
      <div class="card-footer">
        <div class="right">
          <ngb-pagination [collectionSize]="totalCount" [pageSize]="pageSize" [(page)]="currentPage" [maxSize]="5" [rotate]="true" (pageChange)="onPageChange($event)" [boundaryLinks]="true">
          </ngb-pagination>
          <div class="page-info">
            Page {{ currentPage }} of {{ totalPages }} Pages ({{ totalCount }} items)
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
